# Anotações UNIVESP

Como nomeio as máquinas em meu sistema?


## Nomes, Identificadores e Endereços

**Entidades:** Máquinas, impressoras, discos, processos, etc


Nome em SD é uma cadeia de bits ou caracteres usada para referenciar uma entidade.

Ponto de acesso: endereço que usamos para acessar uma entidade. Para ter acesso a um servidor, preciso do seu endereço (ponto de acesso)
* Muda quando altera a sua localização

endereços podem ser amigável para humanos ou não.
* Identificadores: Nao amigavel para humanos
* Nome amigável: usados quando humanos precisar manusear


### Identificadores
 São cadeias aleatórias de bits. Com as seguintes propriedades:
 * Um identificador referencia, no máximo, uma entidade
 * Cada entidade é referenciada por, no máximo, um identificador
 * **não é reutilizado:** identificador sempre referencia a mesma entidade
 * Exemplo: processo em uma maquina (porta + endereco IP)

### Nomes amigáveis 
Nomes representados por uma cadeia de caracteres
* exemplo: 
	* https://www.icmc.usp.br/
	* path/to/file

 como resolvemos nomes e identificadores para endereços?

## Sistema de nomeação 
* Mantém uma vinculação nome-endereço
* Na forma mais simples:
	* Tabela de pares (nome, endereço)
	* Não é escalável, ou seja, não tem como colocar em uma tabela muitos (nome, endereço)
		* Tabela centralizada não vai funcionar

### Nomeação Simples
Aplicada a identificadores
* não contém nenhuma informação sequer sobre o ponto de acesso de uma entidade associada
* Cadeia aleatória de bits -> nomes simples

Problema: dado um identificador, como localizar o ponto de acesso?
#### Nomeação Simples - Broadcasting
Aplicável somenete a redes locais 

* pode ser usado
	* todas as máquinas tão na mesma rede

Funcionamento
*  mensagem que contém o identificador da entidade é enviada a todas as máquinas da rede
* cada uma das máquinas verifica se tem esta entidade
* máquinas com ponto de acesso para a entidade, enviam uma mensagem que contém o endereço

Vantagem: mecanismo simples
Desvantagem: 
* não é escalável
* largura de banda da rede é desperdiçada, com grande número de mensagens de broadcast
* aumento da probabilidade de colisões de mensagens. Tá sendo enviado uma porrada de mensagens, se alguém tá enviando mensagem pra alguém na rede, a mensagem ficará em espera

#### Nomeação simples - multicasting

Ao invés de mandar pra todo mundo junto, envia apenas para um grupo de máquinas.
* desvantagem: precisa criar um grupo. Como que faz isso? 
	* tem overhead

#### Nomeação simples - Localização Nativa
* Abordagem para suportar entidades móveis em redes de grande escala. 
	* Servidor móvel tem um IP permanente que podemos referenciar
* monitora a localização corrente de uma entidade
* **rede nativa:** informa para o nó requisitante o endereço corrente da máquina


Mobile IP:
* cada host móvel usa um endereço fixo
* toda comunicação vai inicialmente ao agente nativo
* Ao mudar de rede, host recebe um endereço externo care-of-adress(COA)

* Quando o agente nativo recebe um pacote para o host móvel
	* se na rede local -> pacote repassado
	* Senão -> túnel até a localização corrente (manda para o lugar que tá o host móvel)

![[Pasted image 20240618224801.png]]
Quando o agente nativo recebe a mensagem, ele pode mandar o endereço do host móvel para o nó requisitante ou pode reencaminhar a mensagem para o host móvel

Desvantagens:
* precisa ter o intermediário para comunicar a entidade móvel
	* leva a latência. Se o móvel tiver longe do agente nativo tem um overhead imenso.

* Se a entidade mudar definitivamente para outra localização, a nativa também tem que mudar 


#### Nomeação simples - DHT (Distributed Hash Table)

* Provê um mecanismo de organizar entidades
* A tabela permite acessar os nós

Nomeação
* DHT mapeia a chave ao valor
* O valor da chave identifica o nó para armazenar o valor
* Tipicamente passa um hash no endereço IP para o espaçamento de chaves
* Cada nó é responsável por alguma seção do espaço
* Operações básicas:
	* store(chave, val)
	* val = read(chave)





#### Nomeação Estruturada
Nomeação não-estruturada: ao olhar o endereção, não conseguimos saber onde se localiza
Nomeação estruturada: 



* Nomes simples são bons para máquinas, mas não para humanos
* Sistemas de nomeação comumente suportam nomes estruturados
	* Nomeação de arquivos, hosts na internet

##### Espaço de nomes
* Nomes são organizados em espaço de nomes
* Espaço de nomes podem ser representados como um grafo dirigido:
	* nó folha: entidade
	* nó de diretório: entidade que se refere a outros nós
* Nó de diretório possui uma tabela de diretório 

![[Pasted image 20240618230111.png]]


##### Resolução de nomes

QUEM POSSUI O ENDEREÇO IP X?

* processo de busca de nomes é chamado de resolução de nomes
* Mas, devemos saber onde iniciar a resolução de nomes. Exemplo (analogia):
	* 00551133734100
	* 00<ligacao_internacional>55<brasil>11<sp>33734100<telefone>

Mecanismo de fechamento: indica como e onde a resoluão de nomes irá iniciar. No exemplo do telefone seria indicar os <>

##### Alias











































# Aula 17

## Nomeação

São usados para denota/referenciar **entidades** em um sistema. 

> [!NOTE] Entidade
> praticamente qualquer coisa, como computadores, dispositivos, arquivos, processos, usuários, conexões, mensagens.

Para operar em uma entidade, precisamos acessá-la em um ponto de acesso. Pontos de acesso são entidades que são nomeadas por meio de um endereço.

## Identificadores


**Nome puro:** não tem significado algum, é apenas uma string aleatória. Nomes puros podem ser usados apenas para comparação 

**Identificador:** um nome com propriedades especificas
* Um indentificador se refere a, no máximo, uma entidade
* Cada entidade é referida por, no máximo, um identificador
* Um identificador sempre se refere a mesma entidade, não pode ser reutilizado


##  Como resolver nomes/identificadores 

Como resolver nomes e identificadores para um endereço?

Estratégia básicas:
* Tabela de pares (nome, endereço)
* Uso do próprio nome para roteamento 

## Nomeação Plana

* Uso de sequências aleatórias de bits como identificadores. 
	* Nomes não contém nenhuma informação de como localizar o ponto de acesso associado à entidade

### Broadcast
Transmitir o ID em broadcast, solicitando que a entidade retorne seu enderenço atual
* não pode escalar além de redes locais 
* requer que todos os processos escutem as solicitações de localização recebidas


# Aula 18


![[aula18.pdf]]




# Aula 19

![[aula19.pdf]]



### Nomeação baseada em atributos

Nomear entidades pelos seus atributos

Problemas: 
* designar algum conjunto de atributos disponiveis e seus possiveis valores. Além de que é difiícil fazer o usuário seguir os valores de maneira consistente.
* **operações de consulta caras:** precisa que os valores dos atributos procurados correspondam aos valores reais da entidade. Ou seja, precisaria inspecionar todas as entidades o que é ruim para sistemas distribuidos

#### Solução: Serviços de diretórios
Implementar uma espécie de BS e combinar com um sistema de nomes estruturado tradicional

##### LDAP


LDAP (Lightweight Directory Access Protocol): cada entrada entrada de diretório é um par atributo valor, nomeada de forma única para facilitar buscas.

Exemplo de uma entrada de diretório:
![[Pasted image 20240513191937.png]]


#### Solução 2: Busca por atributos em sistemas p2p
Sistemas p2p armazenam arquivos 