# Enunciado Completo
![[Gab_ProvaP1_2016_versao_final.pdf]]

# Resolução - Prova A

## Questão 1
![[Pasted image 20241013212642.png]]


### Minha resolução

```assembly

// a0 <- endereco base
// a1 <- tamanho

// multiplica por a1 por 4 (tamanho * 4)
addu   $a1, $a1, $a1 // a1 = 2a1
addu   $a1, $a1, $a1 // a1 = 2a1

addu   $v0, $zero, $zero // inicializa saida como 0
addu   $t0, $zero, $zero // t0 = 0

outer: addu   $t4, $a0, $t0 // t4 = a0 + t4
lw     $t4, 0($t4) // t4 = array[t4]
addu   $t5, $zero, $zero // t5 = 0 
addu   $t1, $zero, $zero // t1 = 0

inner: addu   $t3, $a0, $t1 // t3 = a0 + t1
lw     $t3, 0($t3) // t3 = array[t3]
bne    $t3, $t4, skip //
addiu  $t5, $t5, 1 // t5 ++

skip:  addiu  $t1, $t1, 4 // t1 = t1 + 4
bne    $t1, $a1, inner 
slt    $t2, $t5, $v0 // t2 = t5 + v0
bne    $t2, $zero, next
addu   $v0, $t5, $zero // v0 = t5
addu   $v1, $t4, $zero // v1 = t4

next:  addiu  $t0, $t0, 4 // t0 = t0 + 4
bne    $t0, $a1, outer // se nao iteramos pelo array inteiro, loop
```

### Gabarito
![[../../../../Pasted image 20241014200301.png]]

## Questão 2
![[Pasted image 20241013212727.png]]

### A
![[Pasted image 20241013212748.png]]

#### Minha Solução
Quando houver muitas linhas de código, o montador terá problema em conseguir representar o deslocamento necessário para chegar nessa linha.

As instruções beq tem o seguinte formato:

opcode = código da instrução
rs = registrador 1
rt = registrador 2
offset = deslocamento necessário para chegar na instrução do branch (é definido pela label)

palavra = | opcode - 6 bits | rs - 5 bits | rt - 5 bits | offset - 16 bits |

Precisamos representar o deslocamento `offset` com no máximo 16 bits, ou seja, se tivermos que representar um número maior que 16 bits o montador teria problemas para representar.

#### Gabarito
![[../../../../Pasted image 20241014201554.png]]
### B
![[Pasted image 20241013212804.png]]

#### Minha solução

Precisamos representar o offset em 16 bits no máximo. 
16 bits = 1111111111111111 = 

#### Gabarito 

### C
![[Pasted image 20241013212816.png]]

## Questão 3

![[Pasted image 20241013212853.png]]
## Questão 3
![[Pasted image 20241013212946.png]]

## Questão 4
![[Pasted image 20241013213018.png]]
![[Pasted image 20241013213040.png]]


# Resolução - Prova B


## Questão 1
![[Pasted image 20241013215023.png]]

## Questão 3
![[Pasted image 20241013215151.png]]
![[Pasted image 20241013215204.png]]

## Questão 4
![[Pasted image 20241013215227.png]]
![[Pasted image 20241013215241.png]]
